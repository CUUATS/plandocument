{{ partial "load_table_data.html" . }}
{{- $title := (.Get "title") }}
{{- $desc := (.Get "description") }}
{{- $data := $.Scratch.Get "data" }}
{{- $.Scratch.Add "chartid" 1 -}}
{{- $chartid := print "chart-" ($.Scratch.Get "chartid") -}}
<div class="plandoc-chart" id="{{ $chartid }}" style="height: 400px;"></div>
<script type="text/javascript">
  window.addEventListener('load', function() {
    new pd.Chart('{{ $chartid }}', {{ $data | jsonify | safeJS }}, {
      'title': {{ $title }}
    });
  });
</script>
